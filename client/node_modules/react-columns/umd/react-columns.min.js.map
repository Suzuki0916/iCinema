{"version":3,"sources":["webpack://ReactColumns/webpack/universalModuleDefinition","webpack://ReactColumns/webpack/bootstrap","webpack://ReactColumns/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactColumns/./src/mq.js","webpack://ReactColumns/./src/index.js","webpack://ReactColumns/./src/mapNodesToColumns.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","mediaQueries","mediaQueryMapper","_ref2","arguments","length","undefined","_ref2$queries","queries","_ref2$valueKey","valueKey","_ref2$defaultValue","defaultValue","_ref2$onChange","onChange","mQs","map","query","_ref","_ref$query","_ref$full","full","_ref$onChange","result","queryMatches","_mq","listener","mq","matches","matchMedia","removeListener","addListener","mediaQuery","onMqChange","getValue","forEach","mQ","removeListeners","src_Columns","Columns","props","src_classCallCheck","this","_this","src_possibleConstructorReturn","_Component","setColumns","bind","state","componentDidMount","updateColumns","componentWillReceiveProps","nextProps","queriesChanged","columnsChanged","columns","componentWillUnmount","removeColumnListeners","_columns","_this2","setState","renderColumns","_props","children","dimensions","gap","columnStyles","boxSizing","float","width","paddingLeft","paddingRight","renderedColumns","_ref$children","_ref$columns","_ref$dimensions","nodes","heights","child","_dimensions$i","height","index","indexOf","Math","min","apply","push","_loop","filter","j","mapNodesToColumns","column","external_root_React_commonjs2_react_commonjs_react_amd_react_default","a","createElement","key","style","render","_props2","className","rootStyles","_state$columns","rowStyles","marginLeft","marginRight","clear","external_root_React_commonjs2_react_commonjs_react_amd_react_","defaultProps","overflowX","__webpack_exports__"],"mappings":"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","file":"react-columns.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactColumns\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactColumns\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","var mediaQueries = {};\r\n\r\nexport function mediaQuery({\r\n  query = '',\r\n  full = false,\r\n  onChange = () => {},\r\n} = {}) {\r\n  var result = {\r\n    query,\r\n    full,\r\n    queryMatches: false,\r\n    _mq: null,\r\n  }\r\n  if (!query) {\r\n    return result\r\n  }\r\n\r\n  function listener(mq) {\r\n    result.queryMatches = mq.matches\r\n    onChange(result.queryMatches)\r\n  }\r\n  function removeListener() {\r\n    result._mq.removeListener(listener)\r\n  }\r\n\r\n  result.query = !full && query[query.length-1] !== ')' ? '(' + query + ')' : query\r\n\r\n  if (!mediaQueries[result.query]) {\r\n    mediaQueries[result.query] = window.matchMedia(result.query)\r\n  }\r\n  result._mq = mediaQueries[result.query]\r\n  result.queryMatches = result._mq.matches\r\n  result.removeListener = removeListener\r\n  \r\n  result._mq.addListener(listener)\r\n\r\n  return result\r\n}\r\n\r\n\r\nexport function mediaQueryMapper({ \r\n  queries = [],\r\n  valueKey = 'value',\r\n  defaultValue = '',\r\n  onChange = () => {},\r\n} = {}) {\r\n    const mQs = queries.map(query => mediaQuery({\r\n      query: query.query,\r\n      full: query.full,\r\n      onChange: onMqChange,\r\n    }))\r\n\r\n    function getValue() {\r\n      let value = defaultValue\r\n      mQs.forEach((mQ, i) => {\r\n        if (mQ.queryMatches) {\r\n          value = queries[i][valueKey]\r\n        }\r\n      })\r\n      return value\r\n    }\r\n\r\n    function onMqChange (mq) {\r\n      onChange(getValue())\r\n    }\r\n\r\n    function removeListeners() {\r\n      mQs.forEach((mq, i) => {\r\n        mq.removeListener()\r\n      })\r\n    }\r\n\r\n    return { getValue, removeListeners }\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { mediaQueryMapper } from './mq'\r\nimport mapNodesToColumns from './mapNodesToColumns'\r\n\r\nclass Columns extends Component{\r\n  constructor(props) {\r\n    super(props)\r\n    this.setColumns = this.setColumns.bind(this)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateColumns(this.props);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const queriesChanged = this.props.queries !== nextProps.queries;\r\n    const columnsChanged = this.props.columns !== nextProps.columns\r\n    if (queriesChanged || columnsChanged) {\r\n      this.updateColumns(nextProps);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeColumnListeners()\r\n  }\r\n\r\n  updateColumns(props) {\r\n    if (props.queries.length) {\r\n      this.removeColumnListeners()\r\n      this._columns = mediaQueryMapper({\r\n        queries: props.queries,\r\n        valueKey: 'columns',\r\n        defaultValue: props.queries.length ? 1 : props.columns,\r\n        onChange: this.setColumns,\r\n      })\r\n      this.setColumns()\r\n    }\r\n  }\r\n  \r\n  setColumns() {\r\n    this.setState(() => ({\r\n      columns: this._columns.getValue()\r\n    }))\r\n  }\r\n  \r\n  removeColumnListeners() {\r\n    if (this._columns) {\r\n      this._columns.removeListeners()\r\n    }\r\n  }\r\n\r\n  renderColumns(columns) {\r\n    const { children, dimensions, gap } = this.props\r\n    const columnStyles = {\r\n      boxSizing: 'border-box',\r\n      float: 'left',\r\n      width: `${1 / columns * 100}%`,\r\n      paddingLeft: gap,\r\n      paddingRight: gap,\r\n    }\r\n    let renderedColumns = children\r\n\r\n    if (columns > 1) {\r\n      const columnsContainers = mapNodesToColumns({ children, columns, dimensions })\r\n      renderedColumns = columnsContainers.map((column, i) => (\r\n        <div key={i} style={columnStyles}>{column}</div>\r\n      ))\r\n    }\r\n\r\n    return renderedColumns\r\n  }\r\n\r\n  render() {\r\n    const { className, gap, rootStyles } = this.props\r\n    const { columns = this.props.columns } = this.state\r\n    const rowStyles = columns === 1 ? {} : {\r\n      marginLeft: `calc(${gap} * -1)`,\r\n      marginRight: `calc(${gap} * -1)`,\r\n    }\r\n\r\n    return (\r\n      <div className={className} style={rootStyles}>\r\n        <div style={rowStyles}>\r\n          {this.renderColumns(columns)}\r\n          <div style={{clear: 'both'}}></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nColumns.defaultProps = {\r\n  className: '',\r\n  rootStyles: {\r\n    overflowX: 'hidden',\r\n  },\r\n  queries: [],\r\n  columns: 3,\r\n  gap: '0px',\r\n}\r\n\r\nColumns.propTypes = {\r\n  className: PropTypes.string,\r\n  rootStyles: PropTypes.object,\r\n  queries: PropTypes.array,\r\n  columns: PropTypes.number,\r\n  gap: PropTypes.string,\r\n}\r\n\r\nexport default Columns\r\n","export default function mapNodesToColumns({\r\n  children = [],\r\n  columns = 1,\r\n  dimensions = [],\r\n} = {}) {\r\n  let nodes = []\r\n  let heights = []\r\n\r\n  if (columns === 1) {\r\n    return children\r\n  }\r\n\r\n  // use dimensions to calculate the best column for each child\r\n  if (dimensions.length && dimensions.length === children.length) {\r\n    for(let i=0; i<columns; i++) {\r\n      nodes[i] = []\r\n      heights[i] = 0\r\n    }\r\n    children.forEach((child, i) => {\r\n      let { width, height } = dimensions[i]\r\n      let index = heights.indexOf(Math.min(...heights))\r\n      nodes[index].push(child)\r\n      heights[index] += height / width\r\n    })\r\n  }\r\n  // equally spread the children across the columns\r\n  else {\r\n    for(let i=0; i<columns; i++) {\r\n      nodes[i] = children.filter((child, j) => j % columns === i)\r\n    }\r\n  }\r\n\r\n  return nodes\r\n}"],"sourceRoot":""}