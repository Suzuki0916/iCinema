{"ast":null,"code":"var _jsxFileName = \"/Users/miladarif/Desktop/React/movie-app/client/src/components/common/search.jsx\";\nimport React from 'react';\nimport StringSimilarity from 'string-similarity';\nimport '../../css/search.css';\nexport var SearchBar = function SearchBar(_ref) {\n  var onSearch = _ref.onSearch,\n      name = _ref.name;\n  return React.createElement(\"div\", {\n    className: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"fa fa-search input-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"col-12\",\n    name: name // onChange={onSearch}\n    ,\n    type: \"text\",\n    placeholder: \"Search...\",\n    \"aria-label\": \"Search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }));\n};\nexport function SearchItem(item, items, filterBy) {\n  var filter = items.filter(function (element) {\n    return element[filterBy].toString().toLowerCase().startsWith(item.toString().toLowerCase());\n  });\n  return filter;\n}\n/* USING string-similarity */\n\nexport function SearchItems(item, Items, filterBy) {\n  var similarityPercent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.1;\n  var filteredString = [];\n  Items.forEach(function (element) {\n    filteredString.push(element[filterBy]);\n  });\n  var filteredItems = StringSimilarity.findBestMatch(item, filteredString);\n  /* Arranging filtered items by best rating */\n\n  filteredItems = filteredItems.ratings.sort(function (a, b) {\n    if (a.rating > b.rating) return -1;else return 1;\n  });\n  /* Removing low ratings from the list */\n\n  var closestMatchest = [];\n  filteredItems.forEach(function (element) {\n    if (element.rating >= similarityPercent) closestMatchest.push(element);\n  });\n  /*Matched items from the list*/\n\n  var ItemMatches = [];\n\n  for (var i = 0; i < Items.length; i++) {\n    for (var j = 0; j < closestMatchest.length; j++) {\n      if (Items[i][filterBy] === filteredItems[j][\"target\"]) {\n        ItemMatches.push(Items[j]);\n      }\n    }\n  }\n\n  return ItemMatches;\n}","map":{"version":3,"sources":["/Users/miladarif/Desktop/React/movie-app/client/src/components/common/search.jsx"],"names":["React","StringSimilarity","SearchBar","onSearch","name","SearchItem","item","items","filterBy","filter","element","toString","toLowerCase","startsWith","SearchItems","Items","similarityPercent","filteredString","forEach","push","filteredItems","findBestMatch","ratings","sort","a","b","rating","closestMatchest","ItemMatches","i","length","j"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,mBAA7B;AACA,OAAO,sBAAP;AACA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAwB;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAC7C,SACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AACI,IAAA,SAAS,EAAC,QADd;AAEI,IAAA,IAAI,EAAEA,IAFV,CAGI;AAHJ;AAII,IAAA,IAAI,EAAC,MAJT;AAKI,IAAA,WAAW,EAAC,WALhB;AAMI,kBAAW,QANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAaH,CAdM;AAiBP,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0BC,KAA1B,EAAiCC,QAAjC,EACP;AACI,MAAMC,MAAM,GAAGF,KAAK,CAACE,MAAN,CAAa,UAAAC,OAAO;AAAA,WAC/BA,OAAO,CAACF,QAAD,CAAP,CAAkBG,QAAlB,GAA6BC,WAA7B,GAA2CC,UAA3C,CAAsDP,IAAI,CAACK,QAAL,GAAgBC,WAAhB,EAAtD,CAD+B;AAAA,GAApB,CAAf;AAGA,SAAOH,MAAP;AACH;AAGD;;AACA,OAAO,SAASK,WAAT,CAAsBR,IAAtB,EAA4BS,KAA5B,EAAmCP,QAAnC,EACP;AAAA,MADoDQ,iBACpD,uEADwE,GACxE;AACI,MAAIC,cAAc,GAAG,EAArB;AACAF,EAAAA,KAAK,CAACG,OAAN,CAAc,UAAAR,OAAO,EAAI;AACrBO,IAAAA,cAAc,CAACE,IAAf,CAAoBT,OAAO,CAACF,QAAD,CAA3B;AACH,GAFD;AAIA,MAAIY,aAAa,GAAGnB,gBAAgB,CAACoB,aAAjB,CAA+Bf,IAA/B,EAAqCW,cAArC,CAApB;AAEA;;AACAG,EAAAA,aAAa,GAAGA,aAAa,CAACE,OAAd,CAAsBC,IAAtB,CAA2B,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACjD,QAAGD,CAAC,CAACE,MAAF,GAAWD,CAAC,CAACC,MAAhB,EAAyB,OAAO,CAAC,CAAR,CAAzB,KACK,OAAO,CAAP;AACR,GAHe,CAAhB;AAKA;;AACA,MAAIC,eAAe,GAAG,EAAtB;AACAP,EAAAA,aAAa,CAACF,OAAd,CAAsB,UAAAR,OAAO,EAAI;AAC7B,QAAGA,OAAO,CAACgB,MAAR,IAAkBV,iBAArB,EAAwCW,eAAe,CAACR,IAAhB,CAAqBT,OAArB;AAC3C,GAFD;AAIA;;AACA,MAAIkB,WAAW,GAAG,EAAlB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,KAAK,CAACe,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAEnC,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,eAAe,CAACG,MAApC,EAA4CC,CAAC,EAA7C,EAAiD;AAC9C,UAAGhB,KAAK,CAACc,CAAD,CAAL,CAASrB,QAAT,MAAuBY,aAAa,CAACW,CAAD,CAAb,CAAiB,QAAjB,CAA1B,EACC;AACIH,QAAAA,WAAW,CAACT,IAAZ,CAAiBJ,KAAK,CAACgB,CAAD,CAAtB;AACH;AACJ;AACJ;;AACD,SAAOH,WAAP;AACH","sourcesContent":["import React from 'react'\nimport StringSimilarity from 'string-similarity'; \nimport '../../css/search.css';\nexport const SearchBar = ({ onSearch, name }) => {\n    return (\n        <div className=\"search\">\n            <span className=\"fa fa-search input-icon\"></span>\n            <input \n                className=\"col-12\" \n                name={name}\n                // onChange={onSearch}\n                type=\"text\" \n                placeholder=\"Search...\" \n                aria-label=\"Search\"\n            />\n        </div>\n    )\n}\n\n\nexport function SearchItem(item, items, filterBy)\n{\n    const filter = items.filter(element => \n        element[filterBy].toString().toLowerCase().startsWith(item.toString().toLowerCase())\n    )\n    return filter;\n}\n\n\n/* USING string-similarity */\nexport function SearchItems (item, Items, filterBy, similarityPercent = 0.1) \n{\n    let filteredString = [];\n    Items.forEach(element => {\n        filteredString.push(element[filterBy])\n    });\n\n    let filteredItems = StringSimilarity.findBestMatch(item, filteredString)\n\n    /* Arranging filtered items by best rating */\n    filteredItems = filteredItems.ratings.sort((a, b) => {\n        if(a.rating > b.rating)  return -1\n        else return 1\n    })\n\n    /* Removing low ratings from the list */\n    let closestMatchest = [];\n    filteredItems.forEach(element => {\n        if(element.rating >= similarityPercent) closestMatchest.push(element);\n    })\n\n    /*Matched items from the list*/\n    let ItemMatches = []\n    for (let i = 0; i < Items.length; i++) {\n\n        for (let j = 0; j < closestMatchest.length; j++) {\n           if(Items[i][filterBy] === filteredItems[j][\"target\"])\n            {\n                ItemMatches.push(Items[j]);\n            }\n        }\n    }\n    return ItemMatches;\n}"]},"metadata":{},"sourceType":"module"}