{"ast":null,"code":"'use strict';\n\nvar RFC3986 = require('./rfc3986');\n\nvar internals = {\n  Uri: {\n    createUriRegex: function createUriRegex(optionalScheme, allowRelative, relativeOnly, allowQuerySquareBrackets) {\n      var scheme = RFC3986.scheme;\n      var prefix;\n\n      if (relativeOnly) {\n        prefix = '(?:' + RFC3986.relativeRef + ')';\n      } else {\n        // If we were passed a scheme, use it instead of the generic one\n        if (optionalScheme) {\n          // Have to put this in a non-capturing group to handle the OR statements\n          scheme = '(?:' + optionalScheme + ')';\n        }\n\n        var withScheme = '(?:' + scheme + ':' + RFC3986.hierPart + ')';\n        prefix = allowRelative ? '(?:' + withScheme + '|' + RFC3986.relativeRef + ')' : withScheme;\n      }\n      /**\n       * URI = scheme \":\" hier-part [ \"?\" query ] [ \"#\" fragment ]\n       *\n       * OR\n       *\n       * relative-ref = relative-part [ \"?\" query ] [ \"#\" fragment ]\n       */\n\n\n      return new RegExp('^' + prefix + '(?:\\\\?' + (allowQuerySquareBrackets ? RFC3986.queryWithSquareBrackets : RFC3986.query) + ')?' + '(?:#' + RFC3986.fragment + ')?$');\n    }\n  }\n};\nmodule.exports = internals.Uri;","map":null,"metadata":{},"sourceType":"script"}