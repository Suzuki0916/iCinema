{"ast":null,"code":"'use strict';\n/**\n * Module dependencies\n */\n\nvar Collection = require('./collection');\n\nvar utils = require('../utils');\n\nfunction NodeCollection(col) {\n  this.collection = col;\n  this.collectionName = col.collectionName;\n}\n/**\n * inherit from collection base class\n */\n\n\nutils.inherits(NodeCollection, Collection);\n/**\n * find(match, options, function(err, docs))\n */\n\nNodeCollection.prototype.find = function (match, options, cb) {\n  this.collection.find(match, options, function (err, cursor) {\n    if (err) return cb(err);\n\n    try {\n      cursor.toArray(cb);\n    } catch (error) {\n      cb(error);\n    }\n  });\n};\n/**\n * findOne(match, options, function(err, doc))\n */\n\n\nNodeCollection.prototype.findOne = function (match, options, cb) {\n  this.collection.findOne(match, options, cb);\n};\n/**\n * count(match, options, function(err, count))\n */\n\n\nNodeCollection.prototype.count = function (match, options, cb) {\n  this.collection.count(match, options, cb);\n};\n/**\n * distinct(prop, match, options, function(err, count))\n */\n\n\nNodeCollection.prototype.distinct = function (prop, match, options, cb) {\n  this.collection.distinct(prop, match, options, cb);\n};\n/**\n * update(match, update, options, function(err[, result]))\n */\n\n\nNodeCollection.prototype.update = function (match, update, options, cb) {\n  this.collection.update(match, update, options, cb);\n};\n/**\n * update(match, update, options, function(err[, result]))\n */\n\n\nNodeCollection.prototype.updateMany = function (match, update, options, cb) {\n  this.collection.updateMany(match, update, options, cb);\n};\n/**\n * update(match, update, options, function(err[, result]))\n */\n\n\nNodeCollection.prototype.updateOne = function (match, update, options, cb) {\n  this.collection.updateOne(match, update, options, cb);\n};\n/**\n * replaceOne(match, update, options, function(err[, result]))\n */\n\n\nNodeCollection.prototype.replaceOne = function (match, update, options, cb) {\n  this.collection.replaceOne(match, update, options, cb);\n};\n/**\n * deleteOne(match, options, function(err[, result])\n */\n\n\nNodeCollection.prototype.deleteOne = function (match, options, cb) {\n  this.collection.deleteOne(match, options, cb);\n};\n/**\n * deleteMany(match, options, function(err[, result])\n */\n\n\nNodeCollection.prototype.deleteMany = function (match, options, cb) {\n  this.collection.deleteMany(match, options, cb);\n};\n/**\n * remove(match, options, function(err[, result])\n */\n\n\nNodeCollection.prototype.remove = function (match, options, cb) {\n  this.collection.remove(match, options, cb);\n};\n/**\n * findAndModify(match, update, options, function(err, doc))\n */\n\n\nNodeCollection.prototype.findAndModify = function (match, update, options, cb) {\n  var sort = Array.isArray(options.sort) ? options.sort : [];\n  this.collection.findAndModify(match, sort, update, options, cb);\n};\n/**\n * var stream = findStream(match, findOptions, streamOptions)\n */\n\n\nNodeCollection.prototype.findStream = function (match, findOptions, streamOptions) {\n  return this.collection.find(match, findOptions).stream(streamOptions);\n};\n/**\n * var cursor = findCursor(match, findOptions)\n */\n\n\nNodeCollection.prototype.findCursor = function (match, findOptions) {\n  return this.collection.find(match, findOptions);\n};\n/**\n * aggregation(operators..., function(err, doc))\n * TODO\n */\n\n/**\n * Expose\n */\n\n\nmodule.exports = exports = NodeCollection;","map":null,"metadata":{},"sourceType":"script"}